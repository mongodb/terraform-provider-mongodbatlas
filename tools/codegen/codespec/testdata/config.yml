resources:
  test_resource_no_schema_opts:
    read:
      path: /api/atlas/v2/groups/{groupId}/testResource
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/testResource
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/testResource
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/testResource
      method: DELETE

  test_resource_with_nested_attr:
    read:
      path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/nestedTestResource
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/nestedTestResource
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/nestedTestResource
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/nestedTestResource
      method: DELETE
    schema:
      ignores: ["outer_object"]

  test_resource_path_param_in_post_req:
    create:
      path: /api/atlas/v2/groups/{groupId}/pathparaminpostreq
      method: POST
    read:
      path: /api/atlas/v2/groups/{groupId}/pathparaminpostreq/{specialParam}
      method: GET
    update:
      path: /api/atlas/v2/groups/{groupId}/pathparaminpostreq/{specialParam}
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/pathparaminpostreq/{specialParam}
      method: DELETE

  test_singleton_resource_no_delete_op:
    create:
      path: /api/atlas/v2/groups/{groupId}/testSingletonResource
      method: PATCH
    read:
      path: /api/atlas/v2/groups/{groupId}/testSingletonResource
      method: GET
    update:
      path: /api/atlas/v2/groups/{groupId}/testSingletonResource
      method: PATCH

  test_resource_no_update_op:
    read:
      path: /api/atlas/v2/groups/{groupId}/testResourceNoUpdate
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/testResourceNoUpdate
      method: POST
    delete:
      path: /api/atlas/v2/groups/{groupId}/testResourceNoUpdate
      method: DELETE

  test_resource_with_overridden_collection_types:
    create:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithCollections
      method: POST
    read:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithCollections
      method: GET
    update:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithCollections
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithCollections
      method: DELETE
    schema:
      overrides:
        list_string:
          type: set
        set_string:
          type: list

  test_dynamic_json_properties:
    create:
      path: /api/atlas/v2/dynamicJsonProperties
      method: POST
    read:
      path: /api/atlas/v2/dynamicJsonProperties
      method: GET
    update:
      path: /api/atlas/v2/dynamicJsonProperties
      method: PATCH
    delete:
      path: /api/atlas/v2/dynamicJsonProperties
      method: DELETE

  test_resource_move_state:
    read:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: DELETE
    move_state:
      source_resources: ["test_resource"]

  test_resource_deprecated:
    deprecation_message: "This resource is deprecated. Please use test_resource_new resource instead."
    read:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: DELETE

  test_resource_with_multiple_caps:
    read:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithMultipleCaps
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithMultipleCaps
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithMultipleCaps
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/testResourceWithMultipleCaps
      method: DELETE
    schema:
      aliases:
        # Test that aliasing works correctly with attributes that have multiple consecutive capital letters
        # The apiPath should preserve "MongoDBMajorVersion" (not convert via lossy conversion from snake to camel case)
        MongoDBMajorVersion: mongoDbVersion
        # Test nested path-based alias with multiple caps
        nestedObject.innerAttr: innerAttribute
        # Test nested object with multiple consecutive caps (nestedObjectDB) and alias one of its inner attributes
        nestedObjectDB.apiKey: apiKeyAlias

  test_resource_path_param_with_alias:
    read:
      path: /api/atlas/v2/groups/{groupId}/users/{username}
      method: GET
    create:
      path: /api/atlas/v2/groups/{groupId}/users
      method: POST
    update:
      path: /api/atlas/v2/groups/{groupId}/users/{username}
      method: PATCH
    delete:
      path: /api/atlas/v2/groups/{groupId}/users/{username}
      method: DELETE
    schema:
      aliases:
        # Test that aliasing works correctly when an attribute is both a path parameter
        # and appears in request/response bodies. The apiname tag should preserve the
        # original API name "username" while the schema uses the aliased name "dbUser"
        username: dbUser
  
  test_schema_ignore_and_id_attributes:
    read:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: GET
      schema_ignore: true
    create:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: POST
      schema_ignore: true
    update:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: PATCH
      schema_ignore: true
    delete:
      path: /api/atlas/v2/groups/{groupId}/simpleTestResource
      method: DELETE
    id_attributes: ["group_id", "id"]
