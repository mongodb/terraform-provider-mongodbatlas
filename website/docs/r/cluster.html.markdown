---
layout: "mongodbatlas"
page_title: "MongoDB Atlas: mongodbatlas_cluster"
subcategory: "docs_mongodbatlas_cluster_resource"
description: |-
    "Provides a mongodbatlas_cluster resource."
---
# Resource: mongodbatlas_cluster



## Example Usages

    
        ```terraform
provider "mongodbatlas" {
  public_key  = var.public_key
  private_key = var.private_key
}

resource "mongodbatlas_cluster" "cluster" {
  project_id                  = mongodbatlas_project.project.id
  name                        = "ClusterToUpgrade"
  cluster_type                = "REPLICASET"
  provider_name               = var.provider_name
  backing_provider_name       = var.backing_provider_name
  provider_region_name        = "US_EAST_1"
  provider_instance_size_name = var.provider_instance_size_name
}

resource "mongodbatlas_project" "project" {
  name   = "TenantUpgradeTest"
  org_id = var.atlas_org_id
}
```
    


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)
- `project_id` (String)
- `provider_instance_size_name` (String)
- `provider_name` (String)

### Optional

- `accept_data_risks_and_force_replica_set_reconfig` (String) Submit this field alongside your topology reconfiguration to request a new regional outage resistant topology
- `advanced_configuration` (List of Object) (see [below for nested schema](#nestedatt--advanced_configuration))
- `auto_scaling_compute_enabled` (Boolean)
- `auto_scaling_compute_scale_down_enabled` (Boolean)
- `auto_scaling_disk_gb_enabled` (Boolean)
- `backing_provider_name` (String)
- `backup_enabled` (Boolean) Clusters running MongoDB FCV 4.2 or later and any new Atlas clusters of any type do not support this parameter
- `bi_connector_config` (List of Object) (see [below for nested schema](#nestedatt--bi_connector_config))
- `cloud_backup` (Boolean)
- `cluster_type` (String)
- `disk_size_gb` (Number)
- `encryption_at_rest_provider` (String)
- `labels` (Block Set, Deprecated) (see [below for nested schema](#nestedblock--labels))
- `mongo_db_major_version` (String)
- `num_shards` (Number)
- `paused` (Boolean)
- `pit_enabled` (Boolean)
- `provider_auto_scaling_compute_max_instance_size` (String)
- `provider_auto_scaling_compute_min_instance_size` (String)
- `provider_disk_iops` (Number)
- `provider_disk_type_name` (String)
- `provider_encrypt_ebs_volume` (Boolean, Deprecated)
- `provider_region_name` (String)
- `provider_volume_type` (String)
- `replication_factor` (Number)
- `replication_specs` (Block Set) (see [below for nested schema](#nestedblock--replication_specs))
- `retain_backups_enabled` (Boolean) Flag that indicates whether to retain backup snapshots for the deleted dedicated cluster
- `tags` (Block Set) (see [below for nested schema](#nestedblock--tags))
- `termination_protection_enabled` (Boolean)
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `version_release_system` (String)

### Read-Only

- `cluster_id` (String)
- `connection_strings` (List of Object) (see [below for nested schema](#nestedatt--connection_strings))
- `container_id` (String)
- `id` (String) The ID of this resource.
- `mongo_db_version` (String)
- `mongo_uri` (String)
- `mongo_uri_updated` (String)
- `mongo_uri_with_options` (String)
- `provider_encrypt_ebs_volume_flag` (Boolean)
- `snapshot_backup_policy` (List of Object) (see [below for nested schema](#nestedatt--snapshot_backup_policy))
- `srv_address` (String)
- `state_name` (String)

<a id="nestedatt--advanced_configuration"></a>
### Nested Schema for `advanced_configuration`

Optional:

- `default_read_concern` (String)
- `default_write_concern` (String)
- `fail_index_key_too_long` (Boolean)
- `javascript_enabled` (Boolean)
- `minimum_enabled_tls_protocol` (String)
- `no_table_scan` (Boolean)
- `oplog_min_retention_hours` (Number)
- `oplog_size_mb` (Number)
- `sample_refresh_interval_bi_connector` (Number)
- `sample_size_bi_connector` (Number)
- `transaction_lifetime_limit_seconds` (Number)


<a id="nestedatt--bi_connector_config"></a>
### Nested Schema for `bi_connector_config`

Optional:

- `enabled` (Boolean)
- `read_preference` (String)


<a id="nestedblock--labels"></a>
### Nested Schema for `labels`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedblock--replication_specs"></a>
### Nested Schema for `replication_specs`

Required:

- `num_shards` (Number)

Optional:

- `regions_config` (Block Set) (see [below for nested schema](#nestedblock--replication_specs--regions_config))
- `zone_name` (String)

Read-Only:

- `id` (String) The ID of this resource.

<a id="nestedblock--replication_specs--regions_config"></a>
### Nested Schema for `replication_specs.regions_config`

Required:

- `region_name` (String)

Optional:

- `analytics_nodes` (Number)
- `electable_nodes` (Number)
- `priority` (Number)
- `read_only_nodes` (Number)



<a id="nestedblock--tags"></a>
### Nested Schema for `tags`

Required:

- `key` (String)
- `value` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


<a id="nestedatt--connection_strings"></a>
### Nested Schema for `connection_strings`

Read-Only:

- `private` (String)
- `private_endpoint` (List of Object) (see [below for nested schema](#nestedobjatt--connection_strings--private_endpoint))
- `private_srv` (String)
- `standard` (String)
- `standard_srv` (String)

<a id="nestedobjatt--connection_strings--private_endpoint"></a>
### Nested Schema for `connection_strings.private_endpoint`

Read-Only:

- `connection_string` (String)
- `endpoints` (List of Object) (see [below for nested schema](#nestedobjatt--connection_strings--private_endpoint--endpoints))
- `srv_connection_string` (String)
- `srv_shard_optimized_connection_string` (String)
- `type` (String)

<a id="nestedobjatt--connection_strings--private_endpoint--endpoints"></a>
### Nested Schema for `connection_strings.private_endpoint.endpoints`

Read-Only:

- `endpoint_id` (String)
- `provider_name` (String)
- `region` (String)




<a id="nestedatt--snapshot_backup_policy"></a>
### Nested Schema for `snapshot_backup_policy`

Read-Only:

- `cluster_id` (String)
- `cluster_name` (String)
- `next_snapshot` (String)
- `policies` (List of Object) (see [below for nested schema](#nestedobjatt--snapshot_backup_policy--policies))
- `reference_hour_of_day` (Number)
- `reference_minute_of_hour` (Number)
- `restore_window_days` (Number)
- `update_snapshots` (Boolean)

<a id="nestedobjatt--snapshot_backup_policy--policies"></a>
### Nested Schema for `snapshot_backup_policy.policies`

Read-Only:

- `id` (String)
- `policy_item` (List of Object) (see [below for nested schema](#nestedobjatt--snapshot_backup_policy--policies--policy_item))

<a id="nestedobjatt--snapshot_backup_policy--policies--policy_item"></a>
### Nested Schema for `snapshot_backup_policy.policies.policy_item`

Read-Only:

- `frequency_interval` (Number)
- `frequency_type` (String)
- `id` (String)
- `retention_unit` (String)
- `retention_value` (Number)

# Import 
## Add the import

For more information see: [MongoDB Atlas API - Search Node](https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Atlas-Search/operation/createAtlasSearchDeployment) Documentation.
