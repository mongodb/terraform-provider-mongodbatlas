---
page_title: "Upgrade Guide 1.18.0"
---

# MongoDB Atlas Provider 1.18.0: Upgrade and Information Guide

The Terraform MongoDB Atlas Provider version 1.18.0 has a number of new and exciting features.

**New Resources, Data Sources, and Features:**

- Sharded and geo-sharded cluster defined with `mongodbatlas_advanced_cluster` are now capable of scaling the instance size and disk IOPS independently for each individual shard. For more details and migration guidelines please reference [advanced_cluster - Migration to new sharding schema and leveraging Independent Shard Scaling](https://registry.terraform.io/providers/mongodb/mongodbatlas/latest/docs/guides/advanced-cluster-new-sharding-schema).

**Deprecations:**

- Deprecations in `mongodbatlas_advanced_cluster` resource and data sources:
    - `replication_specs.*.num_shards`: The `replication_specs` list now supports defining an object for each inidividual shard and this new schema is favoured over using `num_shards` attribute. For more details and migration guidelines please reference [advanced_cluster - Migration to new sharding schema and leveraging Independent Shard Scaling](https://registry.terraform.io/providers/mongodb/mongodbatlas/latest/docs/guides/advanced-cluster-new-sharding-schema).
    - `disk_size_gb`: The same attribute is now defined under `replication_specs.*.region_configs.*.(electable_specs|analytics_specs|read_only_specs).disk_size_gb`. Replacing the root value into existing inner specs will have no change in the underlying cluster. The motivation behind this change in location is to align with the new API schema and facilitate new features related to independent storage size scaling in the future.
    - `replication_specs.*.id`: This attribute was being used by `cloud_backup_schedule` to identify cluster zones. As of 1.18.0 `cloud_backup_schedule` can reference cluster zones using the new `zone_id` attribute.
    - `advanced_configuration.default_read_concern`: This attribute only has one valid value.
    - `advanced_configuration.fail_index_key_too_long`: This attribute only applies to older versions of MongoDB (removed in 4.4).

### Helpful Links

* [Report bugs](https://github.com/mongodb/terraform-provider-mongodbatlas/issues)

* [Request Features](https://feedback.mongodb.com/forums/924145-atlas?category_id=370723)

* [Contact Support](https://docs.atlas.mongodb.com/support/) covered by MongoDB Atlas support plans, Developer and above.
