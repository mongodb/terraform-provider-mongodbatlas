---
layout: "mongodbatlas"
page_title: "MongoDB Atlas Provider 1.15.0: Upgrade and Information Guide"
sidebar_current: "docs-mongodbatlas-guides-1150-upgrade-guide"
description: |-
MongoDB Atlas Provider 1.15.0: Upgrade and Information Guide
---

# MongoDB Atlas Provider 1.15.0: Upgrade and Information Guide

The Terraform MongoDB Atlas Provider version 1.15.0 has a number of new and exciting features.

**New Resources, Data Sources, and Features:**


**Breaking Changes:**

**Deprecations and Removals:**  

Format of `okta_idp_id` that contains the IdP Id in `federated_settings_identity_provider` resource now accepts a different format to align with Atlas API. Both the current and new IdP Id format are accepted in terraform-provider 1.15.0 version. New features for `federated_settings_identity_provider` resource will only be available when using the new Id format.

***WARNING:*** Old IdP Id format will no longer be accepted starting 1.16.0 and onwards. We recommend to update to the new format as soon as possible. A warning will appear if old Id is still being used. Follow the guide below to start using the new Id format.

The old format was a 20-hex characters long string.

The new format is a 24-hex characters long string.

Update guide: 
1. How to get the new 24-hex characters string ID value?
	- Option 1: Use Atlas API v20231001, both of the following endpoints include the new `id` in the response:
		- Use [Return all identity providers from the specified federation](https://www.mongodb.com/docs/atlas/reference/api-resources-spec/v2/2023-10-01/#tag/Federated-Authentication/operation/listIdentityProviders) endpoint.
		- Use [Return one identity provider from the specified federation by id](https://www.mongodb.com/docs/atlas/reference/api-resources-spec/v2/2023-10-01/#tag/Federated-Authentication/operation/listIdentityProviders) endpoint
	- Option 2: Use `mongodbatlas_federated_settings_identity_providers` data source: 
		```
		data "mongodbatlas_federated_settings_identity_providers" "identity_provider" {
			federation_settings_id = <federation_settings_id>
		}
		```
		This will return the list of `mongodbatlas_federated_settings_identity_providers` with both `okta_idp_id` (20-hex characters Id) and `idp_id` (24-hex characters Id)
	- Option 3: Use `mongodbatlas_federated_settings_identity_provider` data source:
		```
		data "mongodbatlas_federated_settings_identity_provider" "identity_provider" {
			federation_settings_id = <federation_settings_id>
			identity_provider_id   = <okta_idp_id>
		}
		```
		This will return the specific `mongodbatlas_federated_settings_identity_provider` with both `okta_idp_id` (20-hex characters Id) and `idp_id` (24-hex characters Id) 
TODO: rephrase/restructure(point 2. only applies if user has data source, maybe move it outside)
2. What to do with the new 24-hex characters string ID value?
	- If you use `mongodbatlas_federated_settings_identity_provider` data source:
		- Replace all occurrences of the old Id in `mongodbatlas_federated_settings_identity_provider` data source in `identity_provider_id` attribute
	- If you use `mongodbatlas_federated_settings_identity_provider` resource:
		- Re-import all `mongodbatlas_federated_settings_identity_provider` resources using the new Id: 
			`terraform import mongodbatlas_federated_settings_identity_provider.identity_provider  <federation_settings_id>-<new_idp_id>`
4. Run `terraform plan` 
5. Run `terraform apply`


### Helpful Links

* [Report bugs](https://github.com/mongodb/terraform-provider-mongodbatlas/issues)

* [Request Features](https://feedback.mongodb.com/forums/924145-atlas?category_id=370723)

* [Contact Support](https://docs.atlas.mongodb.com/support/) covered by MongoDB Atlas support plans, Developer and above.