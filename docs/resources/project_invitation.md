# Resource: mongodbatlas_project_invitation

`mongodbatlas_project_invitation` invites a user to join an Atlas project.

Each invitation for an Atlas user includes roles that Atlas grants the user when they accept the invitation.

The [MongoDB Documentation](https://www.mongodb.com/docs/atlas/reference/user-roles/#project-roles) describes the roles which can be assigned to a user.

-> **NOTE:** Groups and projects are synonymous terms. You may find GROUP-ID in the official documentation.

~> **IMPORTANT:** This resource is only for managing invitations, not for managing the Atlas User being invited. Possible provider behavior depending on the invitee's action:
* If the user has not yet accepted the invitation, the provider leaves the invitation as is.
* If the user has accepted the invitation and is now a project member, the provider will remove the invitation from the Terraform state.  The invitation must then be removed from the Terraform resource configuration.
* If the user accepts the invitation and then leaves the project, the provider will re-add the invitation if the resource definition is not removed from the Terraform configuration.

## Example Usages

```terraform
resource "mongodbatlas_project_invitation" "test" {
  username    = "test-acc-username"
  project_id  = "<PROJECT-ID>"
  roles       = [ "GROUP_DATA_ACCESS_READ_WRITE" ]
}
```

```terraform
resource "mongodbatlas_project_invitation" "test" {
  username    = "test-acc-username"
  project_id  = "<PROJECT-ID>"
  roles       = [ "GROUP_READ_ONLY", "GROUP_DATA_ACCESS_READ_ONLY" ]
}
```

## Argument Reference

* `project_id` - (Required) Unique 24-hexadecimal digit string that identifies the project to which you want to invite a user.
* `username` - (Required) Email address to which Atlas sent the invitation. The user uses this email address as their Atlas username if they accept this invitation.
* `roles` - (Required) List of Atlas roles to assign to the invited user. If the user accepts the invitation, Atlas assigns these roles to them. Refer to the [MongoDB Documentation](https://www.mongodb.com/docs/atlas/reference/user-roles/#project-roles) for information on valid roles.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - Autogenerated Unique ID for this resource.
* `created_at` - Timestamp in ISO 8601 date and time format in UTC when Atlas sent the invitation.
* `expires_at` - Timestamp in ISO 8601 date and time format in UTC when the invitation expires. Users have 30 days to accept an invitation.
* `invitation_id` - Unique 24-hexadecimal digit string that identifies the invitation in Atlas.
* `inviter_username` - Atlas user who invited `username` to the project.

See the [MongoDB Atlas Administration API](https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Projects/operation/createProjectInvitation) documentation for more information.

## Import

~> **IMPORTANT:**
A project invitation can **not** be imported once it has been accepted.

Import a user's invitation to a project by separating the `project_id` and the `username` with a hyphen:

```
$ terraform import mongodbatlas_project_invitation.my_user 1112222b3bf99403840e8934-my_user@mongodb.com
```
