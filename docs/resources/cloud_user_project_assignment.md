---
subcategory: "MongoDB Cloud Users"
---

# Resource: mongodbatlas_cloud_user_project_assignment

`mongodbatlas_cloud_user_project_assignment` provides a Cloud User Project Assignment resource. It lets you manage the association between a cloud user and a project, enabling you to import, assign, remove, or update the user's membership.

Depending on the user's current membership status in the project's organization, MongoDB Cloud handles invitations and access in different ways:
- If the user has a pending invitation to join the project's organization, MongoDB Cloud modifies it and grants project access.
- If the user doesn't have an invitation to join the organization, MongoDB Cloud sends a new invitation that grants the user organization and project access.
- If the user is already active in the project's organization, MongoDB Cloud grants access to the project.

-> **NOTE:** Users with pending invitations created using the deprecated `mongodbatlas_project_invitation` resource or via the deprecated [Invite One MongoDB Cloud User to One Project](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-getorganizationuser#tag/Projects/operation/createProjectInvitation)
endpoint cannot be managed with this resource. See [MongoDB Atlas API](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-getprojectteam) for details.
To manage such users with this resource, refer to our [Project Invitation to Cloud User Project Assignment Migration Guide](../guides/project-invitation-to-cloud-user-project-assignment-migration-guide).

## Example Usages

```terraform
resource "mongodbatlas_cloud_user_project_assignment" "example" {
  project_id = var.project_id
  username   = var.user_email
  roles      = ["GROUP_OWNER", "GROUP_DATA_ACCESS_ADMIN"]
}

data "mongodbatlas_cloud_user_project_assignment" "example_username" {
  project_id = var.project_id
  username   = mongodbatlas_cloud_user_project_assignment.example.username
}

data "mongodbatlas_cloud_user_project_assignment" "example_user_id" {
  project_id = var.project_id
  user_id    = mongodbatlas_cloud_user_project_assignment.example.user_id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `project_id` (String) Unique 24-hexadecimal digit string that identifies your project. Use the [/groups](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-listprojects) endpoint to retrieve all projects to which the authenticated user has access.

**NOTE**: Groups and projects are synonymous terms. Your group id is the same as your project id. For existing groups, your group/project id remains the same. The resource and corresponding endpoints use the term groups.
- `roles` (Set of String) One or more project-level roles to assign the MongoDB Cloud user.
- `username` (String) Email address that represents the username of the MongoDB Cloud user.

### Read-Only

- `country` (String) Two-character alphabetical string that identifies the MongoDB Cloud user's geographic location. This parameter uses the ISO 3166-1a2 code format.
- `created_at` (String) Date and time when MongoDB Cloud created the current account. This value is in the ISO 8601 timestamp format in UTC.
- `first_name` (String) First or given name that belongs to the MongoDB Cloud user.
- `invitation_created_at` (String) Date and time when MongoDB Cloud sent the invitation. MongoDB Cloud represents this timestamp in ISO 8601 format in UTC.
- `invitation_expires_at` (String) Date and time when the invitation from MongoDB Cloud expires. MongoDB Cloud represents this timestamp in ISO 8601 format in UTC.
- `inviter_username` (String) Username of the MongoDB Cloud user who sent the invitation to join the organization.
- `last_auth` (String) Date and time when the current account last authenticated. This value is in the ISO 8601 timestamp format in UTC.
- `last_name` (String) Last name, family name, or surname that belongs to the MongoDB Cloud user.
- `mobile_number` (String) Mobile phone number that belongs to the MongoDB Cloud user.
- `org_membership_status` (String) String enum that indicates whether the MongoDB Cloud user has a pending invitation to join the organization or they are already active in the organization.
- `user_id` (String) Unique 24-hexadecimal digit string that identifies the MongoDB Cloud user.

## Import

Cloud User Project Assignment resource can be imported using the Project ID & Username OR Project ID & User ID, in the format `PROJECT_ID/USERNAME` OR `PROJECT_ID/USER_ID`.

```
$ terraform import mongodbatlas_cloud_user_project_assignment.test 9f3a7c2e54b8d1a0e6f4b3c2/test-user@example.com
OR
$ terraform import mongodbatlas_cloud_user_project_assignment.test 9f3a7c2e54b8d1a0e6f4b3c2/5f18367ccb7a503a2b481b7a
```

For more information, see: [MongoDB Atlas API - Cloud Users](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-addprojectuser) Documentation.
