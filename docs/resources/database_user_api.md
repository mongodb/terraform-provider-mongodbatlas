# Resource: mongodbatlas_database_user_api

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `group_id` (String) Unique 24-hexadecimal digit string that identifies your project. Use the [/groups](#tag/Projects/operation/listProjects) endpoint to retrieve all projects to which the authenticated user has access.

**NOTE**: Groups and projects are synonymous terms. Your group id is the same as your project id. For existing groups, your group/project id remains the same. The resource and corresponding endpoints use the term groups.
- `username` (String) Human-readable label that represents the user that authenticates to MongoDB. The format of this label depends on the method of authentication:

| Authentication Method | Parameter Needed | Parameter Value | username Format |
|---|---|---|---|
| AWS IAM | awsIAMType | ROLE | <abbr title="Amazon Resource Name">ARN</abbr> |
| AWS IAM | awsIAMType | USER | <abbr title="Amazon Resource Name">ARN</abbr> |
| x.509 | x509Type | CUSTOMER | [RFC 2253](https://tools.ietf.org/html/2253) Distinguished Name |
| x.509 | x509Type | MANAGED | [RFC 2253](https://tools.ietf.org/html/2253) Distinguished Name |
| LDAP | ldapAuthType | USER | [RFC 2253](https://tools.ietf.org/html/2253) Distinguished Name |
| LDAP | ldapAuthType | GROUP | [RFC 2253](https://tools.ietf.org/html/2253) Distinguished Name |
| OIDC Workforce | oidcAuthType | IDP_GROUP | Atlas OIDC IdP ID (found in federation settings), followed by a '/', followed by the IdP group name |
| OIDC Workload | oidcAuthType | USER | Atlas OIDC IdP ID (found in federation settings), followed by a '/', followed by the IdP user name |
| SCRAM-SHA | awsIAMType, x509Type, ldapAuthType, oidcAuthType | NONE | Alphanumeric string |

### Optional

- `aws_iamtype` (String) Human-readable label that indicates whether the new database user authenticates with the Amazon Web Services (AWS) Identity and Access Management (IAM) credentials associated with the user or the user's role.
- `database_name` (String) The database against which the database user authenticates. Database users must provide both a username and authentication database to log into MongoDB. If the user authenticates with AWS IAM, x.509, LDAP, or OIDC Workload this value should be `$external`. If the user authenticates with SCRAM-SHA or OIDC Workforce, this value should be `admin`.
- `delete_after_date` (String) Date and time when MongoDB Cloud deletes the user. This parameter expresses its value in the ISO 8601 timestamp format in UTC and can include the time zone designation. You must specify a future date that falls within one week of making the Application Programming Interface (API) request.
- `description` (String) Description of this database user.
- `labels` (Attributes List) List that contains the key-value pairs for tagging and categorizing the MongoDB database user. The labels that you define do not appear in the console. (see [below for nested schema](#nestedatt--labels))
- `ldap_auth_type` (String) Part of the Lightweight Directory Access Protocol (LDAP) record that the database uses to authenticate this database user on the LDAP host.
- `oidc_auth_type` (String) Human-readable label that indicates whether the new database user or group authenticates with OIDC federated authentication. To create a federated authentication user, specify the value of USER in this field. To create a federated authentication group, specify the value of IDP_GROUP in this field.
- `password` (String) Alphanumeric string that authenticates this database user against the database specified in `databaseName`. To authenticate with SCRAM-SHA, you must specify this parameter. This parameter doesn't appear in this response.
- `roles` (Attributes List) List that provides the pairings of one role with one applicable database. (see [below for nested schema](#nestedatt--roles))
- `scopes` (Attributes List) List that contains clusters, MongoDB Atlas Data Lakes, and MongoDB Atlas Streams Instances that this database user can access. If omitted, MongoDB Cloud grants the database user access to all the clusters, MongoDB Atlas Data Lakes, and MongoDB Atlas Streams Instances in the project. (see [below for nested schema](#nestedatt--scopes))
- `x509type` (String) X.509 method that MongoDB Cloud uses to authenticate the database user.

- For application-managed X.509, specify `MANAGED`.
- For self-managed X.509, specify `CUSTOMER`.

Users created with the `CUSTOMER` method require a Common Name (CN) in the **username** parameter. You must create externally authenticated users on the `$external` database.

### Read-Only

- `links` (Attributes List) List of one or more Uniform Resource Locators (URLs) that point to API sub-resources, related API resources, or both. RFC 5988 outlines these relationships. (see [below for nested schema](#nestedatt--links))

<a id="nestedatt--labels"></a>
### Nested Schema for `labels`

Optional:

- `key` (String) Key applied to tag and categorize this component.
- `value` (String) Value set to the Key applied to tag and categorize this component.


<a id="nestedatt--roles"></a>
### Nested Schema for `roles`

Required:

- `database_name` (String) Database to which the user is granted access privileges.
- `role_name` (String) Human-readable label that identifies a group of privileges assigned to a database user. This value can either be a built-in role or a custom role.

Optional:

- `collection_name` (String) Collection on which this role applies.


<a id="nestedatt--scopes"></a>
### Nested Schema for `scopes`

Required:

- `name` (String) Human-readable label that identifies the cluster or MongoDB Atlas Data Lake that this database user can access.
- `type` (String) Category of resource that this database user can access.


<a id="nestedatt--links"></a>
### Nested Schema for `links`

Read-Only:

- `href` (String) Uniform Resource Locator (URL) that points another API resource to which this response has some relationship. This URL often begins with `https://cloud.mongodb.com/api/atlas`.
- `rel` (String) Uniform Resource Locator (URL) that defines the semantic relationship between this resource and another API resource. This URL often begins with `https://cloud.mongodb.com/api/atlas`.
