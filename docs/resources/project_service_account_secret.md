---
subcategory: "Service Accounts"
---

# Resource: mongodbatlas_project_service_account_secret

`mongodbatlas_project_service_account_secret` provides a Project Service Account Secret resource. The resource lets you create and delete secrets for a Project Service Account.

~> **IMPORTANT WARNING:** Managing Service Accounts with Terraform will expose sensitive organizational secrets in Terraform's state. We suggest following [Terraform's best practices](https://developer.hashicorp.com/terraform/language/state/sensitive-data).

-> **NOTE:** This resource does not support updates. To rotate a secret, see [Guide: Service Account Secret Rotation](../guides/service-account-secret-rotation).

## Example Usages

```terraform
resource "mongodbatlas_project_service_account" "this" {
  project_id                 = var.project_id
  name                       = "example-project-service-account"
  description                = "Example Project Service Account"
  roles                      = ["GROUP_READ_ONLY"]
  secret_expires_after_hours = 2160 # 90 days
}

resource "mongodbatlas_project_service_account_secret" "this" {
  project_id                 = var.project_id
  client_id                  = mongodbatlas_project_service_account.this.client_id
  secret_expires_after_hours = 2160 # 90 days
}

data "mongodbatlas_project_service_account_secret" "this" {
  project_id = var.project_id
  client_id  = mongodbatlas_project_service_account.this.client_id
  secret_id  = mongodbatlas_project_service_account_secret.this.secret_id
}

output "secret_id" {
  value = mongodbatlas_project_service_account_secret.this.secret_id
}

output "secret" {
  sensitive = true
  value     = mongodbatlas_project_service_account_secret.this.secret
}

output "secret_expires_at" {
  value = data.mongodbatlas_project_service_account_secret.this.expires_at
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client_id` (String) The Client ID of the Service Account.
- `project_id` (String) Unique 24-hexadecimal digit string that identifies your project.

### Optional

- `secret_expires_after_hours` (Number) The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.

### Read-Only

- `created_at` (String) The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `expires_at` (String) The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `last_used_at` (String) The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `masked_secret_value` (String) The masked Service Account secret.
- `secret` (String, Sensitive) The secret for the Service Account. It will be returned only the first time after creation.
- `secret_id` (String) Unique 24-hexadecimal digit string that identifies the secret.

## Import
Import the Project Service Account Secret resource by using the Project ID, Client ID, and Secret ID in the format `PROJECT_ID/CLIENT_ID/SECRET_ID`, e.g.
```
$ terraform import mongodbatlas_project_service_account_secret.test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
```

For more information, see [Create One Project Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-creategroupserviceaccountsecret) in the MongoDB Atlas API documentation.
