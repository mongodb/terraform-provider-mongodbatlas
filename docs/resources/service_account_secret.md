---
subcategory: "Service Accounts"
---

# Resource: mongodbatlas_service_account_secret

`mongodbatlas_service_account_secret` provides a Service Account Secret resource. The resource lets you create and delete secrets for a Service Account.

~> **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform's state. We suggest following [Terraform's best practices](https://developer.hashicorp.com/terraform/language/state/sensitive-data).

-> **NOTE:** This resource does not support updates. To rotate secrets, see [Guide: Service Account Secret Rotation](../guides/service-account-secret-rotation).

## Example Usages

```terraform
resource "mongodbatlas_service_account" "this" {
  org_id                     = var.org_id
  name                       = "example-service-account"
  description                = "Example Service Account"
  roles                      = ["ORG_READ_ONLY"]
  secret_expires_after_hours = 2160 # 90 days
}

resource "mongodbatlas_service_account_secret" "this" {
  org_id                     = var.org_id
  client_id                  = mongodbatlas_service_account.this.client_id
  secret_expires_after_hours = 2160 # 90 days
}

data "mongodbatlas_service_account_secret" "this" {
  org_id    = var.org_id
  client_id = mongodbatlas_service_account.this.client_id
  secret_id = mongodbatlas_service_account_secret.this.secret_id
}

output "secret_id" {
  value = mongodbatlas_service_account_secret.this.secret_id
}

output "secret" {
  sensitive = true
  value     = mongodbatlas_service_account_secret.this.secret
}

output "secret_expires_at" {
  value = data.mongodbatlas_service_account_secret.this.expires_at
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client_id` (String) The Client ID of the Service Account.
- `org_id` (String) Unique 24-hexadecimal digit string that identifies the organization that contains your projects.

### Optional

- `secret_expires_after_hours` (Number) The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.

### Read-Only

- `created_at` (String) The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `expires_at` (String) The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `last_used_at` (String) The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
- `masked_secret_value` (String) The masked Service Account secret.
- `secret` (String, Sensitive) The secret for the Service Account. It will be returned only the first time after creation.
- `secret_id` (String) Unique 24-hexadecimal digit string that identifies the secret.

## Import
Import the Service Account Secret resource by using the Organization ID, Client ID, and Secret ID in the format `ORG_ID/CLIENT_ID/SECRET_ID`, e.g.
```
$ terraform import mongodbatlas_service_account_secret.test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
```

For more information, see [Create One Organization Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-createorgserviceaccountsecret) in the MongoDB Atlas API documentation.
