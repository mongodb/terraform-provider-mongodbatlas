# Resource: mongodbatlas_api_key_project_assignment

`mongodbatlas_api_key_project_assignment` provides an API Key Project Assignment resource. The resource lets you create, edit, and delete Organization API keys assignments to projects.

## Example Usages

```terraform
resource "mongodbatlas_api_key" "this" {
  org_id      = var.org_id
  description = "Test API Key"
  role_names  = ["ORG_READ_ONLY"]
}

resource "mongodbatlas_project" "first_project" {
  name   = "First Project"
  org_id = var.org_id
}

resource "mongodbatlas_project" "second_project" {
  name   = "Second Project"
  org_id = var.org_id
}

resource "mongodbatlas_api_key_project_assignment" "first_assignment" {
  project_id = mongodbatlas_project.first_project.id
  api_key_id = mongodbatlas_api_key.this.api_key_id
  roles      = ["GROUP_OWNER"]
}

resource "mongodbatlas_api_key_project_assignment" "second_assignment" {
  project_id = mongodbatlas_project.second_project.id
  api_key_id = mongodbatlas_api_key.this.api_key_id
  roles      = ["GROUP_OWNER"]
}

# Add IP Access List Entry to Programmatic API Key 
resource "mongodbatlas_access_list_api_key" "this" {
  org_id     = var.org_id
  cidr_block = "0.0.0.0/1"
  api_key_id = mongodbatlas_api_key.this.api_key_id
}
```

### Further Examples
- [Assign API Key to Project](https://github.com/mongodb/terraform-provider-mongodbatlas/tree/master/examples/mongodbatlas_api_key_assignment)

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_key_id` (String) Unique 24-hexadecimal digit string that identifies this organization API key that you want to assign to one project.
- `project_id` (String) Unique 24-hexadecimal digit string that identifies your project. Use the [/groups](#tag/Projects/operation/listProjects) endpoint to retrieve all projects to which the authenticated user has access.

**NOTE**: Groups and projects are synonymous terms. Your group id is the same as your project id. For existing groups, your group/project id remains the same. The resource and corresponding endpoints use the term groups.
- `roles` (Set of String) Human-readable label that identifies the collection of privileges that MongoDB Cloud grants a specific API key, MongoDB Cloud user, or MongoDB Cloud team. These roles include only the specific project-level roles.

## Import 
API Key Project Assignment resource can be imported using the project ID and API key ID, in the format `{PROJECT_ID}/{API_KEY_ID}`, e.g.

```
terraform import mongodbatlas_api_key_project_assignment.test 65def6ce0f722a1507105aa5/66f1c018dba9c04e7dcfaf36
```

For more information see: [MongoDB Atlas API - Programmatic API Keys Project Assignment](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/group/endpoint-programmatic-api-keys) Documentation.
