package autogen

import (
	"net/http"

	"github.com/mongodb/terraform-provider-mongodbatlas/internal/config"
)

// Custom code hooks for autogenerated resources
type CustomCodeHooks interface {
	APICallCustomCodeHooks
}

// Custom code hooks for API call operations
type APICallCustomCodeHooks interface {
	PreCreateAPICall(callParams config.APICallParams, bodyReq []byte) (config.APICallParams, []byte)
	PostCreateAPICall([]byte, *http.Response, error) ([]byte, *http.Response, error)
	PreReadAPICall(callParams config.APICallParams, bodyReq []byte) (config.APICallParams, []byte)
	PostReadAPICall([]byte, *http.Response, error) ([]byte, *http.Response, error)
	PreUpdateAPICall(callParams config.APICallParams, bodyReq []byte) (config.APICallParams, []byte)
	PostUpdateAPICall([]byte, *http.Response, error) ([]byte, *http.Response, error)
	PreDeleteAPICall(callParams config.APICallParams, bodyReq []byte) (config.APICallParams, []byte)
	PostDeleteAPICall([]byte, *http.Response, error) ([]byte, *http.Response, error)
}

// NoOpCustomCodeHooks implements the CustomCodeHooks interface with no-op behavior, struct is embedded in the autogenerated resource structs
var _ CustomCodeHooks = &NoOpCustomCodeHooks{}

type NoOpCustomCodeHooks struct{}

func (h NoOpCustomCodeHooks) PreCreateAPICall(callParams config.APICallParams, bodyReq []byte) (updatedCallParams config.APICallParams, updatedBodyReq []byte) {
	return callParams, bodyReq
}

func (h NoOpCustomCodeHooks) PostCreateAPICall(bodyResp []byte, apiResp *http.Response, err error) (updatedBodyResp []byte, updatedAPIResp *http.Response, updatedErr error) {
	return bodyResp, apiResp, err
}

func (h NoOpCustomCodeHooks) PreReadAPICall(callParams config.APICallParams, bodyReq []byte) (updatedCallParams config.APICallParams, updatedBodyReq []byte) {
	return callParams, bodyReq
}

func (h NoOpCustomCodeHooks) PostReadAPICall(bodyResp []byte, apiResp *http.Response, err error) (updatedBodyResp []byte, updatedAPIResp *http.Response, updatedErr error) {
	return bodyResp, apiResp, err
}

func (h NoOpCustomCodeHooks) PreUpdateAPICall(callParams config.APICallParams, bodyReq []byte) (updatedCallParams config.APICallParams, updatedBodyReq []byte) {
	return callParams, bodyReq
}

func (h NoOpCustomCodeHooks) PostUpdateAPICall(bodyResp []byte, apiResp *http.Response, err error) (updatedBodyResp []byte, updatedAPIResp *http.Response, updatedErr error) {
	return bodyResp, apiResp, err
}

func (h NoOpCustomCodeHooks) PreDeleteAPICall(callParams config.APICallParams, bodyReq []byte) (updatedCallParams config.APICallParams, updatedBodyReq []byte) {
	return callParams, bodyReq
}

func (h NoOpCustomCodeHooks) PostDeleteAPICall(bodyResp []byte, apiResp *http.Response, err error) (updatedBodyResp []byte, updatedAPIResp *http.Response, updatedErr error) {
	return bodyResp, apiResp, err
}
