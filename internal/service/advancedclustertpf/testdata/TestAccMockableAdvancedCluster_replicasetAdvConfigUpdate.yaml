variables:
  clusterName: test-acc-tf-c-600106084781482918
  groupId: 664619d870c247237f4b86a6
steps:
  - config: |2+
      resource "mongodbatlas_advanced_cluster" "test" {
        timeouts = {
          create = "2000s"
        }
        project_id   = "664619d870c247237f4b86a6"
        name         = "test-acc-tf-c-600106084781482918"
        cluster_type = "REPLICASET"
        replication_specs = [{
          region_configs = [{
            priority      = 7
            provider_name = "AWS"
            region_name   = "US_EAST_1"
            auto_scaling = {
              compute_scale_down_enabled = false # necessary to have similar SDKv2 request
              compute_enabled            = false # necessary to have similar SDKv2 request
              disk_gb_enabled            = true
            }
            electable_specs = {
              node_count    = 3
              instance_size = "M10"
              disk_size_gb  = 10
            }
          }]
        }]

      }

    diff_requests:
      - path: /api/atlas/v2/groups/{groupId}/clusters
        method: POST
        version: '2024-10-23'
        text: "{\n \"clusterType\": \"REPLICASET\",\n \"labels\": [],\n \"name\": \"{clusterName}\",\n \"replicationSpecs\": [\n  {\n   \"regionConfigs\": [\n    {\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskSizeGB\": 10,\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"tags\": []\n}"
        responses:
          - response_index: 1
            status: 201
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {},\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"redactClientLogData\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"CREATING\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
    request_responses:
      - path: /api/atlas/v2/groups/{groupId}/clusters
        method: POST
        version: '2024-10-23'
        text: "{\n \"clusterType\": \"REPLICASET\",\n \"labels\": [],\n \"name\": \"{clusterName}\",\n \"replicationSpecs\": [\n  {\n   \"regionConfigs\": [\n    {\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskSizeGB\": 10,\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"tags\": []\n}"
        responses:
          - response_index: 1
            status: 201
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {},\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"redactClientLogData\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"CREATING\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 2
            status: 200
            duplicate_responses: 62
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {},\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"redactClientLogData\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"CREATING\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
          - response_index: 65
            status: 200
            duplicate_responses: 1
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"redactClientLogData\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2023-02-01'
        text: ""
        responses:
          - response_index: 66
            status: 200
            duplicate_responses: 1
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskSizeGB\": 10,\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc47\",\n   \"numShards\": 1,\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/containers
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 67
            status: 200
            duplicate_responses: 1
            text: "{\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/containers?includeCount=true\\u0026providerName=AWS\\u0026pageNum=1\\u0026itemsPerPage=100\",\n   \"rel\": \"self\"\n  }\n ],\n \"results\": [\n  {\n   \"atlasCidrBlock\": \"192.168.240.0/21\",\n   \"id\": \"67345bd9905b8c30c54fd220\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"US_EAST_1\",\n   \"vpcId\": \"vpc-056e765ca927b9785\"\n  },\n  {\n   \"atlasCidrBlock\": \"192.168.248.0/21\",\n   \"id\": \"675bf94c216ed3746c09fc88\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"EU_WEST_1\",\n   \"vpcId\": \"vpc-0cb8137a17095e4f7\"\n  }\n ],\n \"totalCount\": 2\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 68
            status: 200
            duplicate_responses: 1
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": null,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": null,\n \"defaultWriteConcern\": null,\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_2\",\n \"noTableScan\": false,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": null,\n \"sampleSizeBIConnector\": null,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": null\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 69
            status: 200
            duplicate_responses: 1
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": null,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_2\",\n \"noTableScan\": false,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": null,\n \"sampleSizeBIConnector\": null,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": null\n}"
  - config: |2+
      resource "mongodbatlas_advanced_cluster" "test" {
        timeouts = {
          create = "2000s"
        }
        project_id   = "664619d870c247237f4b86a6"
        name         = "test-acc-tf-c-600106084781482918"
        cluster_type = "REPLICASET"
        replication_specs = [{
          region_configs = [{
            priority      = 7
            provider_name = "AWS"
            region_name   = "US_EAST_1"
            auto_scaling = {
              compute_scale_down_enabled = false # necessary to have similar SDKv2 request
              compute_enabled            = false # necessary to have similar SDKv2 request
              disk_gb_enabled            = true
            }
            electable_specs = {
              node_count    = 3
              instance_size = "M10"
              disk_size_gb  = 10
            }
          }]
        }]

        backup_enabled = true
        bi_connector_config = {
          enabled = true
        }
        # config_server_management_mode = "ATLAS_MANAGED" UNSTABLE: After applying this test step, the non-refresh plan was not empty
        labels = [{
          key   = "env"
          value = "test"
        }]
        tags = [{
          key   = "env"
          value = "test"
        }]
        mongo_db_major_version       = "8.0"
        pit_enabled                  = true
        redact_client_log_data       = true
        replica_set_scaling_strategy = "NODE_TYPE"
        # retain_backups_enabled = true # only set on delete
        root_cert_type = "ISRGROOTX1"
        # termination_protection_enabled = true # must be reset to false to enable delete
        version_release_system = "CONTINUOUS"

        advanced_configuration = {
          change_stream_options_pre_and_post_images_expire_after_seconds = 100
          default_read_concern                                           = "available"
          default_write_concern                                          = "majority"
          javascript_enabled                                             = true
          minimum_enabled_tls_protocol                                   = "TLS1_0"
          no_table_scan                                                  = true
          sample_refresh_interval_bi_connector                           = 310
          sample_size_bi_connector                                       = 110
          transaction_lifetime_limit_seconds                             = 300
        }

      }

    diff_requests:
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: PATCH
        version: '2024-10-23'
        text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
        responses:
          - response_index: 80
            status: 200
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"UPDATING\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: PATCH
        version: '2024-08-05'
        text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"defaultWriteConcern\": \"majority\",\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"transactionLifetimeLimitSeconds\": 300\n}"
        responses:
          - response_index: 91
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": \"majority\",\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: PATCH
        version: '2023-01-01'
        text: "{\n \"defaultReadConcern\": \"available\"\n}"
        responses:
          - response_index: 92
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": \"available\",\n \"defaultWriteConcern\": \"majority\",\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
    request_responses:
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 75
            status: 200
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"redactClientLogData\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
          - response_index: 81
            status: 200
            duplicate_responses: 8
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"UPDATING\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
          - response_index: 90
            status: 200
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
          - response_index: 93
            status: 200
            duplicate_responses: 18
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"UPDATING\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
          - response_index: 112
            status: 200
            duplicate_responses: 1
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2023-02-01'
        text: ""
        responses:
          - response_index: 76
            status: 200
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": false,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskSizeGB\": 10,\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": false,\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc47\",\n   \"numShards\": 1,\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"LTS\"\n}"
          - response_index: 113
            status: 200
            duplicate_responses: 1
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskSizeGB\": 10,\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc47\",\n   \"numShards\": 1,\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/containers
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 77
            status: 200
            duplicate_responses: 2
            text: "{\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/containers?includeCount=true\\u0026providerName=AWS\\u0026pageNum=1\\u0026itemsPerPage=100\",\n   \"rel\": \"self\"\n  }\n ],\n \"results\": [\n  {\n   \"atlasCidrBlock\": \"192.168.240.0/21\",\n   \"id\": \"67345bd9905b8c30c54fd220\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"US_EAST_1\",\n   \"vpcId\": \"vpc-056e765ca927b9785\"\n  },\n  {\n   \"atlasCidrBlock\": \"192.168.248.0/21\",\n   \"id\": \"675bf94c216ed3746c09fc88\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"EU_WEST_1\",\n   \"vpcId\": \"vpc-0cb8137a17095e4f7\"\n  }\n ],\n \"totalCount\": 2\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 78
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": null,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": null,\n \"defaultWriteConcern\": null,\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_2\",\n \"noTableScan\": false,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": null,\n \"sampleSizeBIConnector\": null,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": null\n}"
          - response_index: 118
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": \"available\",\n \"defaultWriteConcern\": \"majority\",\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 79
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": null,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_2\",\n \"noTableScan\": false,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": null,\n \"sampleSizeBIConnector\": null,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": null\n}"
          - response_index: 119
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": \"majority\",\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: PATCH
        version: '2024-10-23'
        text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
        responses:
          - response_index: 80
            status: 200
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"UPDATING\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: PATCH
        version: '2024-08-05'
        text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"defaultWriteConcern\": \"majority\",\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"transactionLifetimeLimitSeconds\": 300\n}"
        responses:
          - response_index: 91
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": \"majority\",\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: PATCH
        version: '2023-01-01'
        text: "{\n \"defaultReadConcern\": \"available\"\n}"
        responses:
          - response_index: 92
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": \"available\",\n \"defaultWriteConcern\": \"majority\",\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
  - config: |2+
    diff_requests:
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: DELETE
        version: '2023-02-01'
        text: ""
        responses:
          - response_index: 125
            status: 202
            text: "{}"
    request_responses:
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 120
            status: 200
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
          - response_index: 126
            status: 200
            duplicate_responses: 4
            text: "{\n \"backupEnabled\": false,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"featureCompatibilityVersion\": \"8.0\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"redactClientLogData\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc48\",\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"diskSizeGB\": 10,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"DELETING\",\n \"tags\": [],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
          - response_index: 131
            status: 404
            text: "{\n \"detail\": \"No cluster named {clusterName} exists in group {groupId}.\",\n \"error\": 404,\n \"errorCode\": \"CLUSTER_NOT_FOUND\",\n \"parameters\": [\n  \"{clusterName}\",\n  \"{groupId}\"\n ],\n \"reason\": \"Not Found\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: GET
        version: '2023-02-01'
        text: ""
        responses:
          - response_index: 121
            status: 200
            text: "{\n \"backupEnabled\": true,\n \"biConnector\": {\n  \"enabled\": true,\n  \"readPreference\": \"secondary\"\n },\n \"clusterType\": \"REPLICASET\",\n \"connectionStrings\": {\n  \"standard\": \"mongodb://test-acc-tf-c-600106084-shard-00-00.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-01.jciib.mongodb-dev.net:27017,test-acc-tf-c-600106084-shard-00-02.jciib.mongodb-dev.net:27017/?ssl=true\\u0026authSource=admin\\u0026replicaSet=atlas-3g5y5g-shard-0\",\n  \"standardSrv\": \"mongodb+srv://test-acc-tf-c-600106084.jciib.mongodb-dev.net\"\n },\n \"createDate\": \"2024-12-13T09:07:24Z\",\n \"diskSizeGB\": 10,\n \"diskWarmingMode\": \"FULLY_WARMED\",\n \"encryptionAtRestProvider\": \"NONE\",\n \"globalClusterSelfManagedSharding\": false,\n \"groupId\": \"{groupId}\",\n \"id\": \"675bf94c216ed3746c09fc89\",\n \"labels\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}\",\n   \"rel\": \"self\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/restoreJobs\",\n   \"rel\": \"https://cloud.mongodb.com/restoreJobs\"\n  },\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/clusters/{clusterName}/backup/snapshots\",\n   \"rel\": \"https://cloud.mongodb.com/snapshots\"\n  }\n ],\n \"mongoDBMajorVersion\": \"8.0\",\n \"mongoDBVersion\": \"8.0.4\",\n \"name\": \"{clusterName}\",\n \"paused\": false,\n \"pitEnabled\": true,\n \"replicaSetScalingStrategy\": \"NODE_TYPE\",\n \"replicationSpecs\": [\n  {\n   \"id\": \"675bf94c216ed3746c09fc47\",\n   \"numShards\": 1,\n   \"regionConfigs\": [\n    {\n     \"analyticsSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"autoScaling\": {\n      \"compute\": {\n       \"enabled\": false,\n       \"scaleDownEnabled\": false\n      },\n      \"diskGB\": {\n       \"enabled\": true\n      }\n     },\n     \"electableSpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 3\n     },\n     \"priority\": 7,\n     \"providerName\": \"AWS\",\n     \"readOnlySpecs\": {\n      \"diskIOPS\": 3000,\n      \"ebsVolumeType\": \"STANDARD\",\n      \"instanceSize\": \"M10\",\n      \"nodeCount\": 0\n     },\n     \"regionName\": \"US_EAST_1\"\n    }\n   ],\n   \"zoneId\": \"675bf94c216ed3746c09fc46\",\n   \"zoneName\": \"ZoneName managed by Terraform\"\n  }\n ],\n \"rootCertType\": \"ISRGROOTX1\",\n \"stateName\": \"IDLE\",\n \"tags\": [\n  {\n   \"key\": \"env\",\n   \"value\": \"test\"\n  }\n ],\n \"terminationProtectionEnabled\": false,\n \"versionReleaseSystem\": \"CONTINUOUS\"\n}"
      - path: /api/atlas/v2/groups/{groupId}/containers
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 122
            status: 200
            text: "{\n \"links\": [\n  {\n   \"href\": \"https://cloud-dev.mongodb.com/api/atlas/v2/groups/{groupId}/containers?includeCount=true\\u0026providerName=AWS\\u0026pageNum=1\\u0026itemsPerPage=100\",\n   \"rel\": \"self\"\n  }\n ],\n \"results\": [\n  {\n   \"atlasCidrBlock\": \"192.168.240.0/21\",\n   \"id\": \"67345bd9905b8c30c54fd220\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"US_EAST_1\",\n   \"vpcId\": \"vpc-056e765ca927b9785\"\n  },\n  {\n   \"atlasCidrBlock\": \"192.168.248.0/21\",\n   \"id\": \"675bf94c216ed3746c09fc88\",\n   \"providerName\": \"AWS\",\n   \"provisioned\": true,\n   \"regionName\": \"EU_WEST_1\",\n   \"vpcId\": \"vpc-0cb8137a17095e4f7\"\n  }\n ],\n \"totalCount\": 2\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2023-01-01'
        text: ""
        responses:
          - response_index: 123
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultReadConcern\": \"available\",\n \"defaultWriteConcern\": \"majority\",\n \"failIndexKeyTooLong\": null,\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}/processArgs
        method: GET
        version: '2024-08-05'
        text: ""
        responses:
          - response_index: 124
            status: 200
            text: "{\n \"changeStreamOptionsPreAndPostImagesExpireAfterSeconds\": 100,\n \"chunkMigrationConcurrency\": null,\n \"customOpensslCipherConfigTls12\": [],\n \"defaultMaxTimeMS\": null,\n \"defaultWriteConcern\": \"majority\",\n \"javascriptEnabled\": true,\n \"minimumEnabledTlsProtocol\": \"TLS1_0\",\n \"noTableScan\": true,\n \"oplogMinRetentionHours\": null,\n \"oplogSizeMB\": null,\n \"queryStatsLogVerbosity\": 1,\n \"sampleRefreshIntervalBIConnector\": 310,\n \"sampleSizeBIConnector\": 110,\n \"tlsCipherConfigMode\": \"DEFAULT\",\n \"transactionLifetimeLimitSeconds\": 300\n}"
      - path: /api/atlas/v2/groups/{groupId}/clusters/{clusterName}
        method: DELETE
        version: '2023-02-01'
        text: ""
        responses:
          - response_index: 125
            status: 202
            text: "{}"
