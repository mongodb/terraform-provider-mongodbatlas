// Code generated by terraform-provider-mongodbatlas using `make generate-resource`. DO NOT EDIT.

package federatedsettingsidentityproviderapi

import (
	"context"

	dsschema "github.com/hashicorp/terraform-plugin-framework/datasource/schema"

	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/mongodb/terraform-provider-mongodbatlas/internal/common/autogen/customtypes"
)

func DataSourceSchema(ctx context.Context) dsschema.Schema {
	return dsschema.Schema{
		Attributes: map[string]dsschema.Attribute{
			"id": dsschema.StringAttribute{
				Required:            true,
				MarkdownDescription: "Unique 24-hexadecimal digit string that identifies your federation.",
			},
			"results": dsschema.ListNestedAttribute{
				Computed:            true,
				MarkdownDescription: "List of returned documents that MongoDB Cloud provides when completing this request.",
				CustomType:          customtypes.NewNestedListType[TFDSResultsModel](ctx),
				NestedObject: dsschema.NestedAttributeObject{
					Attributes: map[string]dsschema.Attribute{
						"acs_url": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "URL that points to where to send the SAML response.",
						},
						"associated_domains": dsschema.SetAttribute{
							Computed:            true,
							MarkdownDescription: "List that contains the domains associated with the identity provider.",
							CustomType:          customtypes.NewSetType[types.String](ctx),
							ElementType:         types.StringType,
						},
						"associated_orgs": dsschema.SetNestedAttribute{
							Computed:            true,
							MarkdownDescription: "List that contains the connected organization configurations associated with the identity provider.",
							CustomType:          customtypes.NewNestedSetType[TFDSResultsAssociatedOrgsModel](ctx),
							NestedObject: dsschema.NestedAttributeObject{
								Attributes: map[string]dsschema.Attribute{
									"data_access_identity_provider_ids": dsschema.SetAttribute{
										Computed:            true,
										MarkdownDescription: "The collection of unique ids representing the identity providers that can be used for data access in this organization.",
										CustomType:          customtypes.NewSetType[types.String](ctx),
										ElementType:         types.StringType,
									},
									"domain_allow_list": dsschema.SetAttribute{
										Computed:            true,
										MarkdownDescription: "Approved domains that restrict users who can join the organization based on their email address.",
										CustomType:          customtypes.NewSetType[types.String](ctx),
										ElementType:         types.StringType,
									},
									"domain_restriction_enabled": dsschema.BoolAttribute{
										Computed:            true,
										MarkdownDescription: "Value that indicates whether domain restriction is enabled for this connected org.",
									},
									"identity_provider_id": dsschema.StringAttribute{
										Computed:            true,
										MarkdownDescription: "Legacy 20-hexadecimal digit string that identifies the UI access identity provider that this connected org config is associated with. This id can be found within the Federation Management Console > Identity Providers tab by clicking the info icon in the IdP ID row of a configured identity provider.",
									},
									"org_id": dsschema.StringAttribute{
										Computed:            true,
										MarkdownDescription: "Unique 24-hexadecimal digit string that identifies the connected organization configuration.",
									},
									"post_auth_role_grants": dsschema.SetAttribute{
										Computed:            true,
										MarkdownDescription: "Atlas roles that are granted to a user in this organization after authenticating. Roles are a human-readable label that identifies the collection of privileges that MongoDB Cloud grants a specific MongoDB Cloud user. These roles can only be organization specific roles.",
										CustomType:          customtypes.NewSetType[types.String](ctx),
										ElementType:         types.StringType,
									},
									"role_mappings": dsschema.SetNestedAttribute{
										Computed:            true,
										MarkdownDescription: "Role mappings that are configured in this organization.",
										CustomType:          customtypes.NewNestedSetType[TFDSResultsAssociatedOrgsRoleMappingsModel](ctx),
										NestedObject: dsschema.NestedAttributeObject{
											Attributes: map[string]dsschema.Attribute{
												"external_group_name": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Unique human-readable label that identifies the identity provider group to which this role mapping applies.",
												},
												"id": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Unique 24-hexadecimal digit string that identifies this role mapping.",
												},
												"role_assignments": dsschema.SetNestedAttribute{
													Computed:            true,
													MarkdownDescription: "Atlas roles and the unique identifiers of the groups and organizations associated with each role. The array must include at least one element with an Organization role and its respective **orgId**. Each element in the array can have a value for **orgId** or **groupId**, but not both.",
													CustomType:          customtypes.NewNestedSetType[TFDSResultsAssociatedOrgsRoleMappingsRoleAssignmentsModel](ctx),
													NestedObject: dsschema.NestedAttributeObject{
														Attributes: map[string]dsschema.Attribute{
															"group_id": dsschema.StringAttribute{
																Computed:            true,
																MarkdownDescription: "Unique 24-hexadecimal digit string that identifies the project to which this role belongs. Each element within **roleAssignments** can have a value for **groupId** or **orgId**, but not both.",
															},
															"org_id": dsschema.StringAttribute{
																Computed:            true,
																MarkdownDescription: "Unique 24-hexadecimal digit string that identifies the organization to which this role belongs. Each element within **roleAssignments** can have a value for **orgId** or **groupId**, but not both.",
															},
															"role": dsschema.StringAttribute{
																Computed:            true,
																MarkdownDescription: "Human-readable label that identifies the collection of privileges that MongoDB Cloud grants a specific API key, MongoDB Cloud user, or MongoDB Cloud team. These roles include organization- and project-level roles.",
															},
														},
													},
												},
											},
										},
									},
									"user_conflicts": dsschema.ListNestedAttribute{
										Computed:            true,
										MarkdownDescription: "List that contains the users who have an email address that doesn't match any domain on the allowed list.",
										CustomType:          customtypes.NewNestedListType[TFDSResultsAssociatedOrgsUserConflictsModel](ctx),
										NestedObject: dsschema.NestedAttributeObject{
											Attributes: map[string]dsschema.Attribute{
												"email_address": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Email address of the MongoDB Cloud user linked to the federated organization.",
												},
												"id": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Unique 24-hexadecimal digit string that identifies the federation to which this MongoDB Cloud user belongs.",
												},
												"first_name": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "First or given name that belongs to the MongoDB Cloud user.",
												},
												"last_name": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Last name, family name, or surname that belongs to the MongoDB Cloud user.",
												},
												"user_id": dsschema.StringAttribute{
													Computed:            true,
													MarkdownDescription: "Unique 24-hexadecimal digit string that identifies this user.",
												},
											},
										},
									},
								},
							},
						},
						"audience": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Identifier of the intended recipient of the token.",
						},
						"audience_uri": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Unique string that identifies the intended audience of the SAML assertion.",
						},
						"authorization_type": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Indicates whether authorization is granted based on group membership or user ID.",
						},
						"client_id": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Client identifier that is assigned to an application by the Identity Provider.",
						},
						"created_at": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Date that the identity provider was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
						},
						"description": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "The description of the identity provider.",
						},
						"display_name": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Human-readable label that identifies the identity provider.",
						},
						"groups_claim": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Identifier of the claim which contains IdP Group IDs in the token.",
						},
						"id": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Unique 24-hexadecimal digit string that identifies the identity provider.",
						},
						"idp_type": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "String enum that indicates the type of the identity provider. Default is WORKFORCE.",
						},
						"issuer_uri": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Unique string that identifies the issuer of the SAML Assertion or OIDC metadata/discovery document URL.",
						},
						"okta_idp_id": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Legacy 20-hexadecimal digit string that identifies the identity provider.",
						},
						"pem_file_info": dsschema.SingleNestedAttribute{
							Computed:            true,
							MarkdownDescription: "PEM file information for the identity provider's current certificates.",
							CustomType:          customtypes.NewObjectType[TFDSResultsPemFileInfoModel](ctx),
							Attributes: map[string]dsschema.Attribute{
								"certificates": dsschema.ListNestedAttribute{
									Computed:            true,
									MarkdownDescription: "List of certificates in the file.",
									CustomType:          customtypes.NewNestedListType[TFDSResultsPemFileInfoCertificatesModel](ctx),
									NestedObject: dsschema.NestedAttributeObject{
										Attributes: map[string]dsschema.Attribute{
											"not_after": dsschema.StringAttribute{
												Computed:            true,
												MarkdownDescription: "Latest date that the certificate is valid. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
											},
											"not_before": dsschema.StringAttribute{
												Computed:            true,
												MarkdownDescription: "Earliest date that the certificate is valid. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
											},
										},
									},
								},
								"file_name": dsschema.StringAttribute{
									Computed:            true,
									MarkdownDescription: "Human-readable label given to the file.",
								},
							},
						},
						"protocol": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "String enum that indicates the protocol of the identity provider. Either SAML or OIDC.",
						},
						"request_binding": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "SAML Authentication Request Protocol HTTP method binding (POST or REDIRECT) that Federated Authentication uses to send the authentication request.",
						},
						"requested_scopes": dsschema.ListAttribute{
							Computed:            true,
							MarkdownDescription: "Scopes that MongoDB applications will request from the authorization endpoint.",
							CustomType:          customtypes.NewListType[types.String](ctx),
							ElementType:         types.StringType,
						},
						"response_signature_algorithm": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Signature algorithm that Federated Authentication uses to encrypt the identity provider signature.",
						},
						"slug": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Custom SSO Url for the identity provider.",
						},
						"sso_debug_enabled": dsschema.BoolAttribute{
							Computed:            true,
							MarkdownDescription: "Flag that indicates whether the identity provider has SSO debug enabled.",
						},
						"sso_url": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "URL that points to the receiver of the SAML authentication request.",
						},
						"status": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "String enum that indicates whether the identity provider is active.",
						},
						"updated_at": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Date that the identity provider was last updated on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
						},
						"user_claim": dsschema.StringAttribute{
							Computed:            true,
							MarkdownDescription: "Identifier of the claim which contains the user ID in the token.",
						},
					},
				},
			},
		},
	}
}

type TFDSModel struct {
	Id      types.String                                  `tfsdk:"id" apiname:"federationSettingsId" autogen:"omitjson"`
	Results customtypes.NestedListValue[TFDSResultsModel] `tfsdk:"results" autogen:"omitjson"`
}
type TFDSResultsModel struct {
	RequestedScopes            customtypes.ListValue[types.String]                        `tfsdk:"requested_scopes" autogen:"omitjson"`
	AssociatedDomains          customtypes.SetValue[types.String]                         `tfsdk:"associated_domains" autogen:"omitjson"`
	AssociatedOrgs             customtypes.NestedSetValue[TFDSResultsAssociatedOrgsModel] `tfsdk:"associated_orgs" autogen:"omitjson"`
	ClientId                   types.String                                               `tfsdk:"client_id" autogen:"omitjson"`
	OktaIdpId                  types.String                                               `tfsdk:"okta_idp_id" autogen:"omitjson"`
	AuthorizationType          types.String                                               `tfsdk:"authorization_type" autogen:"omitjson"`
	AcsUrl                     types.String                                               `tfsdk:"acs_url" autogen:"omitjson"`
	CreatedAt                  types.String                                               `tfsdk:"created_at" autogen:"omitjson"`
	Description                types.String                                               `tfsdk:"description" autogen:"omitjson"`
	DisplayName                types.String                                               `tfsdk:"display_name" autogen:"omitjson"`
	GroupsClaim                types.String                                               `tfsdk:"groups_claim" autogen:"omitjson"`
	Id                         types.String                                               `tfsdk:"id" autogen:"omitjson"`
	IdpType                    types.String                                               `tfsdk:"idp_type" autogen:"omitjson"`
	IssuerUri                  types.String                                               `tfsdk:"issuer_uri" autogen:"omitjson"`
	AudienceUri                types.String                                               `tfsdk:"audience_uri" autogen:"omitjson"`
	PemFileInfo                customtypes.ObjectValue[TFDSResultsPemFileInfoModel]       `tfsdk:"pem_file_info" autogen:"omitjson"`
	Protocol                   types.String                                               `tfsdk:"protocol" autogen:"omitjson"`
	RequestBinding             types.String                                               `tfsdk:"request_binding" autogen:"omitjson"`
	Audience                   types.String                                               `tfsdk:"audience" autogen:"omitjson"`
	ResponseSignatureAlgorithm types.String                                               `tfsdk:"response_signature_algorithm" autogen:"omitjson"`
	Slug                       types.String                                               `tfsdk:"slug" autogen:"omitjson"`
	UserClaim                  types.String                                               `tfsdk:"user_claim" autogen:"omitjson"`
	SsoUrl                     types.String                                               `tfsdk:"sso_url" autogen:"omitjson"`
	Status                     types.String                                               `tfsdk:"status" autogen:"omitjson"`
	UpdatedAt                  types.String                                               `tfsdk:"updated_at" autogen:"omitjson"`
	SsoDebugEnabled            types.Bool                                                 `tfsdk:"sso_debug_enabled" autogen:"omitjson"`
}
type TFDSResultsAssociatedOrgsModel struct {
	DataAccessIdentityProviderIds customtypes.SetValue[types.String]                                       `tfsdk:"data_access_identity_provider_ids" autogen:"omitjson"`
	DomainAllowList               customtypes.SetValue[types.String]                                       `tfsdk:"domain_allow_list" autogen:"omitjson"`
	PostAuthRoleGrants            customtypes.SetValue[types.String]                                       `tfsdk:"post_auth_role_grants" autogen:"omitjson"`
	RoleMappings                  customtypes.NestedSetValue[TFDSResultsAssociatedOrgsRoleMappingsModel]   `tfsdk:"role_mappings" autogen:"omitjson"`
	UserConflicts                 customtypes.NestedListValue[TFDSResultsAssociatedOrgsUserConflictsModel] `tfsdk:"user_conflicts" autogen:"omitjson"`
	IdentityProviderId            types.String                                                             `tfsdk:"identity_provider_id" autogen:"omitjson"`
	OrgId                         types.String                                                             `tfsdk:"org_id" autogen:"omitjson"`
	DomainRestrictionEnabled      types.Bool                                                               `tfsdk:"domain_restriction_enabled" autogen:"omitjson"`
}
type TFDSResultsAssociatedOrgsRoleMappingsModel struct {
	ExternalGroupName types.String                                                                          `tfsdk:"external_group_name" autogen:"omitjson"`
	Id                types.String                                                                          `tfsdk:"id" autogen:"omitjson"`
	RoleAssignments   customtypes.NestedSetValue[TFDSResultsAssociatedOrgsRoleMappingsRoleAssignmentsModel] `tfsdk:"role_assignments" autogen:"omitjson"`
}
type TFDSResultsAssociatedOrgsRoleMappingsRoleAssignmentsModel struct {
	GroupId types.String `tfsdk:"group_id" autogen:"omitjson"`
	OrgId   types.String `tfsdk:"org_id" autogen:"omitjson"`
	Role    types.String `tfsdk:"role" autogen:"omitjson"`
}
type TFDSResultsAssociatedOrgsUserConflictsModel struct {
	EmailAddress types.String `tfsdk:"email_address" autogen:"omitjson"`
	Id           types.String `tfsdk:"id" apiname:"federationSettingsId" autogen:"omitjson"`
	FirstName    types.String `tfsdk:"first_name" autogen:"omitjson"`
	LastName     types.String `tfsdk:"last_name" autogen:"omitjson"`
	UserId       types.String `tfsdk:"user_id" autogen:"omitjson"`
}
type TFDSResultsPemFileInfoModel struct {
	Certificates customtypes.NestedListValue[TFDSResultsPemFileInfoCertificatesModel] `tfsdk:"certificates" autogen:"omitjson"`
	FileName     types.String                                                         `tfsdk:"file_name" autogen:"omitjson"`
}
type TFDSResultsPemFileInfoCertificatesModel struct {
	NotAfter  types.String `tfsdk:"not_after" autogen:"omitjson"`
	NotBefore types.String `tfsdk:"not_before" autogen:"omitjson"`
}
