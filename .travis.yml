language: go

go:
  - 1.14.x
  - tip

matrix:
  fast_finish: true
  allow_failures:
    - go: tip
  include:
    - name: "Code Lint"
      before_install: make tools
      script: make lint
    - name: "Website"
      before_install: make tools
      script:
        #- make website-test #commented until Terraform Provider Program Validation
        - make website-lint
    - name: "Test"
      script:
        - make test
    - name: "Acceptances test"
      script:
        - if [[ $TRAVIS_PULL_REQUEST == “false” ]] && [[ $TRAVIS_BRANCH == “master” ]]; then while sleep 540; do echo "=====[ $SECONDS seconds still running ]====="; done & make testacc; fi
        - if [[ $TRAVIS_PULL_REQUEST != “false” ]]; then while sleep 540; do echo "=====[ $SECONDS seconds still running ]====="; done & make testacc; fi